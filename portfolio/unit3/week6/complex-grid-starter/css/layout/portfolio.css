/**
 * Portfolio Card Grid with Subgrid
 * 
 * TODO: Implement a card grid that demonstrates THE KEY SUBGRID USE CASE:
 * 1. Without Subgrid - Content misaligns across cards
 * 2. With Subgrid - Titles, images, descriptions, and buttons all align
 * 
 * This is the exact problem you learned about in the Subgrid reading!
 * 
 * Key Requirements:
 * - Create parent grid with defined row tracks
 * - Make cards use subgrid to inherit those rows
 * - Use auto-fit for responsive columns
 * - Watch content align beautifully across cards despite varying lengths
 */

/* ===========================================
   PAGE STRUCTURE
   =========================================== */
body {
   background: var(--color-background);
}

.portfolio-page {
   min-height: 100vh;
}

/* ===========================================
   HEADER
   =========================================== */
.portfolio-header {
   background: var(--color-surface);
   padding: var(--spacing-xl);
   text-align: center;
   box-shadow: var(--shadow-sm);
}

.portfolio-header h1 {
   margin-bottom: var(--spacing-sm);
}

.portfolio-header p {
   color: var(--color-text-muted);
   max-width: 600px;
   margin: 0 auto;
}

/* ===========================================
   PORTFOLIO GRID (THE SUBGRID PROBLEM!)
   =========================================== */
.portfolio-section {
   max-width: var(--content-max-width);
   margin: 0 auto;
   padding: var(--spacing-xl);
}

.portfolio-grid {
   /*
       TODO: Create parent grid with explicit row structure
       
       This is the KEY to subgrid alignment!
       
       Requirements:
       1. Columns: Use repeat(auto-fit, minmax(min(320px, 100%), 1fr))
       2. Rows: Define explicit track sizes for card sections:
          - Title row: auto (natural height)
          - Image row: 250px (fixed height for alignment)
          - Description row: 1fr (flexible, expands to fill)
          - Footer row: auto (natural height)
       
       Hint: grid-auto-rows: auto 250px 1fr auto;
       
       Don't forget gap!
    */


   display: grid;
   grid-template-columns: repeat(auto-fit, minmax(min(320px, 100%), 1fr));
   grid-auto-rows: auto 250px 1fr auto;
   gap: var(--spacing-lg);

}

.portfolio-card {
   /*
       TODO: Make each card a subgrid
       
       Requirements:
       1. Make it a grid container: display: grid;
       2. Span all 4 rows: grid-row: span 4;
       3. Inherit parent rows: grid-template-rows: subgrid;
       4. Add gap for internal spacing
       
       This is the magic! Each card now aligns to parent row tracks,
       making titles align with titles, images with images, etc.
    */


   display: grid;
   grid-row: span 4;
   grid-template-rows: subgrid;
   gap: var(--spacing-sm);



   background: var(--color-surface);
   border-radius: var(--radius-med);
   padding: var(--spacing-lg);
   box-shadow: var(--shadow-sm);
   border: 1px solid var(--color-border);
}



/* ===========================================
   CARD CONTENT (Direct Children of Card)
   =========================================== */
.portfolio-card-title {
   /*
       No positioning needed! 
       As a direct child of the subgrid, this automatically
       goes in the first row and aligns across all cards.
    */
   font-size: var(--font-size-lg);
   font-weight: var(--font-weight-bold);
   margin-bottom: var(--spacing-sm);
   padding-bottom: var(--spacing-sm);
   border-bottom: 2px solid var(--color-primary);
   color: var(--color-text);
}

.portfolio-card-image {
   /*
       Second row - fixed 250px height from parent.
       Images all align horizontally across cards!
    */
   width: 100%;
   height: 100%;
   object-fit: cover;
   border-radius: var(--radius-sm);
}

.portfolio-card-description {
   /*
       Third row - 1fr means this expands to fill available space.
       Longer descriptions push the footer down, but because of subgrid,
       ALL footers across ALL cards move down together. Beautiful!
    */
   font-size: var(--font-size-med);
   color: var(--color-text-muted);
   line-height: var(--line-height-lg);

   /* TODO: Add align-self: start; 
       Why? The description is in a 1fr track. Without this,
       it might center vertically in that expanded space.
       align-self: start keeps it at the top of its row.
    */
   align-self: start;
}

.portfolio-card-footer {
   /*
       Fourth row - all footers align at the same baseline!
       This is impossible without subgrid.
    */
   display: flex;
   justify-content: space-between;
   align-items: center;
   padding-top: var(--spacing-med);
   border-top: 1px solid var(--color-border);
}

.card-tag {
   font-size: var(--font-size-sm);
   color: var(--color-primary);
   background: rgba(59, 130, 246, 0.1);
   padding: var(--spacing-xs) var(--spacing-sm);
   border-radius: var(--radius-sm);
}

/* ===========================================
   FALLBACK FOR BROWSERS WITHOUT SUBGRID
   =========================================== */
/*
   TODO: Add @supports rule for progressive enhancement
   
   Default (no subgrid support):
   - Cards work fine but content doesn't align across cards
   - Each card has: grid-template-rows: auto auto 1fr auto;
   
   With subgrid support:
   - Wrap your subgrid code in: @supports (grid-template-rows: subgrid) { }
   - Parent gets explicit row tracks
   - Cards span 4 rows and use subgrid
   
   This ensures the layout works for everyone, enhanced for modern browsers!
*/



@supports (grid-template-rows: subgrid) {
   .portfolio-grid {
      grid-auto-rows: auto 250px 1fr auto;
   }

   .portfolio-card {
      grid-row: span 4;
      grid-template-rows: subgrid;
   }
}



/* ===========================================
   REFLECTION QUESTIONS
   =========================================== */
/*
   ANSWER THESE IN YOUR ASSIGNMENT FORM:
   
   1. What problem does subgrid solve in this layout?
      - Without subgrid, what happens when one card has a longer title?
      It moves the blue line down and the second line of the title with it.
      - How does subgrid fix this?
      Subgrid aligns the blue line to the same row so that the titles have enough space to fill two rows if they need it.
   
   2. What would happen if you DIDN'T use subgrid here?
      - Try it! Comment out the subgrid code temporarily.
      - How does the layout look different?
      Some of the images are longer than others, but I am not sure if that it just because of how I momentarily commented out the information.
      Also, all of the text shows up in different places, and the buttons are not aligned. It just looks sloppy and unfinished.
      - Why is subgrid better for this use case?
      This is better because all of these objects are related in some way or another, in this case, if they are a portfolio, they need
      to give off the impression of an organized and polished person who created everything in a unified way. They should feel like they
      have a common theme and that they are organized. It also makes them easier to compare with everything put in a subgrid. It also makes
      a page easier to scan if all the information follows the same format, and since these are all projects, they do. 
   
   3. When should you NOT use subgrid?
      - If each card had completely different content structure?
      If each was completely different, it would have a similar look to what this assignment looked like without a subgrid. If the layout
      is completely different, nothing would feel unified because elements that have nothing to do with each other would be aligned, and 
      in some cases, it can make objects that are on the same row and aligned feel connected, which is really not the right move,
      especially when you have cards.
      - If cards were independent modules with no alignment needs?
      If they had no alignment needs, then of course you wouldn't need to use subgrid. I would still recommend being careful and using
      spacing as needed, but especially if the cards had different dimensions or information all together, a subgrid would ultimately be worthless.
*/